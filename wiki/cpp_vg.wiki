#summary cpp_vg - an attempt to integrate C++/STL into valgrind

= Introduction =

We took valgrind sources and made few changes to make it tpossible to use C++ and STL in valgrind tools. 
For the source, see trunk/cpp_vg

= Details =
  # valgrind trunk rev 8843, VEX rev 1878
  # added libstdc++-v3 (gcc-4.3.2):
    * gcc-4.3.2/libstdc++-v3/include/ to include/m_stl
    * gcc-4.3.2/libstdc++-v3/src/ to coregrind/m_stl/src
  # added stlport (TODO(timurrrr): which version?)
  # added cppgrind - a simple C++/STL/Valgrind integration test

= How to try = 
Checkout: 
{{{
svn checkout http://data-race-test.googlecode.com/svn/trunk/cpp_vg cpp_vg
cd cpp_vg
}}}

Choose STL: edit the file `cppgrind/Makefile.am`. <br>
The default stl is libstdc++-v3 (requires compilation of .cc files). <br>
Alternative stl is stlport (header files only). 

Build:
{{{
./autogen.sh
./configure --prefix=`pwd`/Inst
make -j install 
}}}

= Files that were changed: =
{{{
# all files 
% svn diff -r 616  | grep '^Index:'
# lots...

# non-stl files: 
% svn diff -r 616  | grep '^Index:' | grep -v 'include/stlport\|include/m_stl\|coregrind/m_stl'
Index: cppgrind/tests/Makefile.am
Index: cppgrind/docs/Makefile.am
Index: cppgrind/Makefile.am
Index: cppgrind/cp_main.cc
Index: Makefile.tool-flags.am
Index: Makefile.core.am
Index: include/pub_tool_tooliface.h
Index: include/pub_tool_libcassert.h
Index: configure.in
Index: Makefile.flags.am
Index: Makefile.am
Index: coregrind/Makefile.am

}}}

= TODOs =
  # copyrights in coregrind/m_stl/symbols.cc and cppgrind/cp_main.cc
  # more .cc's in coregrind/Makefile.am